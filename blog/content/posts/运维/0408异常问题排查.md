# 0408异常问题排查

## 原因分析
PHP服务OOM后，导致MYSQL请求返回无响应，MYSQL服务器没有得到及时的响应并处理，可能会导致垃圾回收机制未即时开启，导致内存无法及时回收，内存过高进而推高CPU负载

## 造成过程
![admin01 PHP服务OOM](../vx_images/290903198836202.png)

从上面可以看出admin01服务在14:47出现了OOM，反查日志可得
![admin01日志采集](../vx_images/598564607625294.png)

![MYSQL异常数据](../vx_images/185765430951045.png)

# 解决方案
1. 将PHP搜索服务迁移至ES， 降低PHP内存消耗
2. 夯实服务质量，将PHP资源消耗问题尽早解决，倘若等到后期，可能需要重构解决